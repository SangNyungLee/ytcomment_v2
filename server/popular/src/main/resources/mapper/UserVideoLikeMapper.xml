<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="site.ytcomment.popular.mapper.UserVideoLikeMapper">
<!--이미 좋아요 한 영상이면 likedAt를 업데이트함(중복 방지)-->
<!--새로 좋아요면 추가하기-->
    <insert id="insertUserVideoLike">
        INSERT INTO likes (userId, videoId) VALUES(#{userId}, #{videoId}) ON DUPLICATE KEY UPDATE likedAt = CURRENT_TIMESTAMP;
    </insert>
</mapper>